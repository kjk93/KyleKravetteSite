<% provide(:title, @folder.title + " - Edit") %>

<div class="container">
	<div class="row">
		<div class="col-xs-2 col-xs-offset-1">
			<%= link_to "< Portfolio", user_path(@folder.user_id), class: "btn btn-default main-nav" %>
		</div>

		<div class="col-xs-4 col-xs-offset-1">
			<h1>Folder Editor</h1>
		</div>
	</div>

	<div class="row">
		<h1><%= @folder.title %></h1>
	</div>
</div>

<div class="container-fluid">
	<div class="row">
		<div class="col-xs-4 col-xs-offset-4">
			<%= form_for(@folder) do |f| %>
				<center>
				<%= f.text_field :title, class: "form-control", id: "title-change-text", placeholder: "Enter new title" %>
				<!-- Add Javascript for ghost text filler -->

				<%= f.submit "Change title", class: "btn btn-success", id: "submit-button" %>
				</center>
			<% end %>
		</div>
	</div>
</div>

<script>
	$(document).ready(function(){
		$("#submit-button").attr("disabled", "disabled");
	});

	$("#title-change-text").focusout(function(){
		if($(this).val()==""){
			$("#submit-button").attr("disabled", "disabled");	
		}
		else{
			$("#submit-button").removeAttr("disabled");	
		}
	});

	$("#title-change-text").focusin(function(){
		$("#submit-button").removeAttr("disabled");	
	});
</script>

<% if @folder.pictures.any? %>
	<div class="container-fluid">
		<%= render 'folder_pictures' %>
	</div>
<% end %>

<div class="container-fluid">
	<div class="row">
		<%= render 'add_picture' %>
	</div>
</div>